{% load static %}
<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="Mosaddek">
	<meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
	<link rel="shortcut icon" href="{% static 'img/favicon.png' %}">

	<title>{% block page_title %}{% endblock page_title %}</title>

	<!-- Bootstrap core CSS -->
	<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
	<link href="{% static 'css/bootstrap-reset.css' %}" rel="stylesheet">
	<!--external css-->
	<link href="{% static 'assets/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
	<link href="{% static 'assets/jquery-easy-pie-chart/jquery.easy-pie-chart.css' %}" rel="stylesheet" type="text/css" media="screen" />
	<link rel="stylesheet" href="{% static 'css/owl.carousel.css' %}" type="text/css">

	<!-- CALENDAR CSS -->
	<link href="{% static 'assets/font-awesome/css/font-awesome.css' %}" rel="stylesheet" />
	<link href="{% static 'assets/fullcalendar/fullcalendar/bootstrap-fullcalendar.css' %}" rel="stylesheet" />

	<!-- Custom styles for this template -->
	<link href="{% static 'css/style.css' %}" rel="stylesheet">
	<link href="{% static 'css/style-responsive.css' %}" rel="stylesheet" />

	<!-- pie chart DASHBOARD -->
	<link href="{% static 'assets/morris.js-0.4.3/morris.css' %}" rel="stylesheet" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
	<!--[if lt IE 9]>
      <script src="{% static "js/html5shiv.js" %}"></script>
      <script src="{% static "js/respond.min.js" %}"></script>
    <![endif]-->
</head>

<body>

	<section id="container">
		<!-- [ HEADER ] // START -->
		<header class="header white-bg">
			<div class="sidebar-toggle-box">
				<div data-original-title="Toggle Navigation" data-placement="right" class="icon-reorder tooltips"></div>
			</div>

			<!--LOGO-->
			<a href="{% url 'dashboard' %}" class="logo">Remote<span>Twin</span></a>

			<!-- RIGHT NAV -->
			<div class="top-nav ">
				<!--search & user info start-->
				<ul class="nav pull-right top-menu">
					<li>
						<!-- <input type="text" class="form-control search" placeholder="Search"> -->
					</li>
					<!-- user login dropdown start-->
					<li class="dropdown">
						<a data-toggle="dropdown" class="dropdown-toggle" href="#">
							<img alt="" src="{% static 'img/avatar1_small.jpg' %}">
							<span class="username">Doctor Name</span>
							<b class="caret"></b>
						</a>
						<ul class="dropdown-menu extended logout">
							<div class="log-arrow-up"></div>
							<li><a href="#"><i class=" icon-suitcase"></i>Profile</a></li>
							<li><a href="#"><i class="icon-cog"></i> Settings</a></li>
							<li><a href="#"><i class="icon-key"></i> Logout</a></li>
						</ul>
					</li>
					<!-- user login dropdown end -->
				</ul>
				<!--search & user info end-->
			</div>

		</header>

		<!-- [ SIDEBAR ] // START -->
		<aside>
			<div id="sidebar" class="nav-collapse ">
				<!-- sidebar menu start-->
				<ul class="sidebar-menu" id="nav-accordion">
					<li>
						<a class="{% if request.resolver_match.url_name == "dashboard" %} active {% endif %}" href="{% url 'dashboard' %}">
							<i class="icon-dashboard"></i>
							<span>Dashboard</span>
						</a>
					</li>

					<li>
						<a class="{% if request.resolver_match.url_name == "patient_history" %} active {% endif %}" href="{% url 'patient_history' %}">
							<i class="icon-book"></i>
							<span>Patient History</span>
						</a>
					</li>

					<li class="sub-menu">
						<a href="javascript:;" class="{% if request.resolver_match.url_name == "appointment_online" %} active {% elif request.resolver_match.url_name == "appointment_physical" %} active {% endif %}">
							<i class="icon-th"></i>
							<span>Appointments</span>
						</a>
						<ul class="sub">
							<li class="{% if request.resolver_match.url_name == "appointment_online" %} active {% endif %}">
								<a href="{% url 'appointment_online' %}">Online</a>
							</li>

							<li class="{% if request.resolver_match.url_name == "appointment_physical" %} active {% endif %}">
								<a href="{% url 'appointment_physical' %}">Physical</a>
							</li>
						</ul>
					</li>

				</ul>
				<!-- sidebar menu end-->
			</div>
		</aside>

		<!--MAIN CONTENY // START -->
		{% block content %}
		{% endblock content %}
		<!--MAIN CONTENY // END-->


		<!--FOOTER // START-->
		<footer class="site-footer">
			<div class="text-center">
				2019 &copy; REMOTETWIN
				<a href="#" class="go-top">
					<i class="icon-angle-up"></i>
				</a>
			</div>
		</footer>

	</section>

	<!-- js placed at the end of the document so the pages load faster -->
	<script type="text/javascript" src="{% static 'js/jquery-1.8.3.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/jquery-easy-pie-chart/jquery.easy-pie-chart.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/owl.carousel.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery.customSelect.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery-ui-1.9.2.custom.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'assets/fullcalendar/fullcalendar/fullcalendar.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
	<script class="include" type="text/javascript" src="{% static 'js/jquery.dcjqaccordion.2.7.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery.scrollTo.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery.nicescroll.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/respond.min.js' %}"></script>
	<!--common script for all pages-->
	<script type="text/javascript" src="{% static 'js/common-scripts.js' %}"></script>
	<!--script onlion appointment-->
	<script type="text/javascript" src="{% static 'js/external-dragging-calendar.js' %}"></script>
	<!-- dashboard charts -->
	<script type="text/javascript" src="{% static 'js/ecg_plot.js' %}"></script>
	<!-- default plot js -->
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.canvaswrapper.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.colorhelpers.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.saturated.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.browser.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.drawSeries.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.uiConstants.js' %}"></script>
	<!-- for navigate plot -->
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.navigate.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.touchNavigate.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.hover.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.touch.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.legend.js' %}"></script>
	<script language="javascript" type="text/javascript" src="{% static 'js/ecg/jquery.flot.crosshair.js' %}"></script>
	<!-- for physical appointment -->
	<script type="text/javascript" src="{%  static 'assets/data-tables/jquery.dataTables.js' %}"></script>
	<script type="text/javascript" src="{%  static 'assets/data-tables/DT_bootstrap.js' %}"></script>
	<script type="text/javascript" src="{%  static 'js/editable-table.js' %}"></script>
	<!-- lung sound audio player -->
	<script type="text/javascript" src="{%  static 'js/wavesurfer.js' %}"></script>
	<!-- for community pie chart -->
	<script type="text/javascript" src="{%  static 'js/morris-script.js' %}"></script>
	<script type="text/javascript" src="{%  static 'assets/morris.js-0.4.3/morris.min.js' %}"></script>
	<script type="text/javascript" src="{%  static 'assets/morris.js-0.4.3/raphael-min.js' %}"></script>

	<!-- table? -->
	<script type="text/javascript">
		jQuery(document).ready(function() {
			EditableTable.init();
		});

	</script>

	<!-- lung sound player -->
	<script type="text/javascript">
		var wavesurfer = WaveSurfer.create({
			container: '#waveform',
			waveColor: 'black',
			progressColor: 'teal'
		});

		wavesurfer.load('../static/sample.mp3');

		wavesurfer.on('ready', function() {
			//change to play
			wavesurfer.pause();
		});

	</script>

	<!-- ECG plot - random -->
	<script type="text/javascript">
		$(function() {

			var data = [],
				totalPoints = 200;

			function getRandomData() {

				if (data.length > 0)
					data = data.slice(1);

				// Do a random walk

				while (data.length < totalPoints) {

					var prev = data.length > 0 ? data[data.length - 1] : 50,
						y = prev + Math.random() * 10 - 5;

					if (y < 0) {
						y = 0;
					} else if (y > 100) {
						y = 100;
					}

					data.push(y);
				}

				// Zip the generated y values with the x values

				var res = [];
				for (var i = 0; i < data.length; ++i) {
					res.push([i, data[i]])
				}

				return res;
			}

			// Set up the control widget - update interval
			var updateInterval = 300;

			/* =============
			$("#updateInterval").val(updateInterval).change(function() {
				var v = $(this).val();
				if (v && !isNaN(+v)) {
					updateInterval = +v;
					if (updateInterval < 1) {
						updateInterval = 1;
					} else if (updateInterval > 2000) {
						updateInterval = 2000;
					}
					$(this).val("" + updateInterval);
				}
			});
			============== */

			var plot = $.plot("#ecg_plot", [getRandomData()], {
				series: {
					shadowSize: 0 // Drawing is faster without shadows
				},
				yaxis: {
					min: 50,
					max: 150
				},
				xaxis: {
					show: false
				},
				series: {
					lines: {
						lineWidth: 2
					}
				}
			});

			function update() {
				plot.setData([getRandomData()]);

				// Since the axes don't change, we don't need to call plot.setupGrid()
				plot.draw();
				setTimeout(update, updateInterval);
			}
			update();
		});

	</script>

	<!-- [ALT] basic pat_vitals plot -->
	<!-- <script type="text/javascript">
		$(function() {

			var d2 = [
				[0, 3],
				[4, 8],
				[8, 5],
				[9, 13]
			];

			// A null signifies separate line segments

			var d3 = [
				[0, 12],
				[7, 12], null, [7, 2.5],
				[12, 2.5]
			];

			$.plot("#pat_vitals", [d2, d3]);

		});

	</script> -->

	<!-- pat_vitals plot -->
	<script type="text/javascript">
		$(function() {

			var temp = [],
				spo2 = [],
				bmi = [];

			for (var i = 0; i < 1; i += 0.1) {
				temp.push([i, Math.random(i)]);
				spo2.push([i, Math.random(i)]);
				bmi.push([i, Math.random(i)]);
			}

			plot = $.plot("#pat_vitals", [{
					data: temp,
					label: "Temperature = 0.00"
				},
				{
					data: spo2,
					label: "SPO2 = 0.00"
				},
				{
					data: bmi,
					label: "BMI = 0.00"
				}
			], {
				legend: {
					show: true
				},
				series: {
					lines: {
						show: true,
						lineWidth: 4
					}
				},
				crosshair: {
					mode: "xy"
				},
				grid: {
					hoverable: true,
					clickable: true,
					autoHighlight: false
				},
				yaxis: {
					min: 50,
					max: 100
				}
			});

			var legends = $("#pat_vitals .legendLayer text tspan");

			legends.each(function() {
				// fix the widths so they don't jump around
				$(this).css('width', $(this).width());
			});

			var updateLegendTimeout = null;
			var latestPosition = null;

			function updateLegend() {

				updateLegendTimeout = null;
				var pos = latestPosition;
				var axes = plot.getAxes();

				if (pos.x < axes.xaxis.min || pos.x > axes.xaxis.max ||
					pos.y < axes.yaxis.min || pos.y > axes.yaxis.max) {
					return;
				}

				var i, j, dataset = plot.getData();

				for (i = 0; i < dataset.length; ++i) {
					var series = dataset[i];
					// Find the nearest points, x-wise
					for (j = 0; j < series.data.length; ++j) {
						if (series.data[j][0] > pos.x) {
							break;
						}
					}
					// Now Interpolate
					var y,
						p1 = series.data[j - 1],
						p2 = series.data[j];
					if (p1 == null) {
						y = p2[1];
					} else if (p2 == null) {
						y = p1[1];
					} else {
						y = p1[1] + (p2[1] - p1[1]) * (pos.x - p1[0]) / (p2[0] - p1[0]);
					}
					legends.eq(i).text(series.label.replace(/=.*/, "= " + y.toFixed(2)));
				}
			}

			$("#pat_vitals").bind("plothover", function(event, pos, item) {
				latestPosition = pos;
				if (!updateLegendTimeout) {
					updateLegendTimeout = setTimeout(updateLegend, 50);
				}
			}).bind("plotclick", function(event, pos, item) {
				plot.lockCrosshair(pos);
			});;
		});

	</script>

</body>

</html>
